<!-- <h1>Users</h1> -->
<form (ngSubmit)="onSubmit()">
<table style="width: 300px; float: right;">
    <tr>
    <td style="width: 5%; padding: 15px;"><input placeholder="Search..." type="text" required [(ngModel)]="mbNr" name="mbNr" /></td>
    <td><input type="submit" value="Search" class="btn btn-sm btn-primary"/></td>
</tr>
</table>
</form>
<a routerLink="add" [queryParams]="{ path: path }" class="btn btn-sm btn-success mb-2">Add </a>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th style="width: 10%">Name</th>
            <th style="width: 5%">Mb Nr</th>
            <th style="width: 10%">Dob</th>
            <th style="width: 5%">Time</th>
            <th style="width: 10%">City/State</th>
            <th>Job</th>
            <th style="width: 5%">Income</th>
            <th style="width: 5%">Caste</th>
            <th style="width: 15%">Email</th>
            <th style="width: 5%;"></th>
        </tr>
    </thead>
    <tbody style="font-size: small;">
        <tr *ngFor="let user of persons">
            <td>{{user.name}}</td>
            <td><a routerLink="edit/{{user.userId}}" [queryParams]="{ path: path}" class="mr-1">{{user.waNr}}</a></td>
            <td>{{user.dob}}</td>
            <td>{{user.time}}</td>
            <td>{{user.cityOfBirth}}/{{user.stateOfBirth}}</td>
            <td>{{user.jobDesc}}</td>
            <td>{{user.income}}</td>
            <td>{{user.caste}}</td>
            <td>{{user.email}}</td>
            <td style="white-space: nowrap">
                <button (click)="deleteUser(user.userId)" class="btn btn-sm btn-danger btn-delete-user" [disabled]="user.isDeleting">
                    <span *ngIf="user.isDeleting" class="spinner-border spinner-border-sm"></span>
                    <span *ngIf="!user.isDeleting">Delete</span>
                </button>
                &nbsp;
                <a routerLink="preferences/{{ user.userId}}" [queryParams]="{ path: path, dob: user.dob }" class="btn btn-sm btn-success">Preferences</a>
            </td>
        </tr>
        <tr *ngIf="!persons">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr>
    </tbody>
</table>