<h3>{{ path.toLocaleUpperCase() }}</h3>
<br />
<form (ngSubmit)="onSubmit()">
<table style="width: 300px; float: right;">
    <tr>
    <td style="width: 5%; padding: 15px;"><input placeholder="Search..." type="text" required [(ngModel)]="mbNr" name="mbNr" /></td>
    <td><input type="submit" value="Search" class="btn btn-sm btn-primary"/></td>
</tr>
</table>
</form>
<a routerLink="add" [queryParams]="{ path: path }" class="btn btn-sm btn-success mb-2">Add </a>

<table class="table table-striped table-bordered" >
    <thead>
        <tr>
            <th></th>
            <th style="width: 5%;"></th>
            <th style="width: 5%;">Mobile Nr</th>
            <th style="width: 10%;">DateOfBi rth</th>
            <th style="width: 10%;">Time</th>
            <th style="width: 10%;">City/ State</th>
            <th>Height</th>
            <th style="width: 10%;">Job</th>
            <th style="width: 10%;">Native Place</th>
            <th style="width: 10%;">Income</th>
            <th style="width: 10%;">Qualifi cation</th>
            <th style="width: 10%;">Job City</th>
            <th style="width: 10%;">Paid</th>
            <th></th>
        </tr>
    </thead>
    <tbody style="font-size: small;">
        <tr *ngFor="let user of persons; let ele = index" [ngStyle]="{'background-color' : user.contacted === true ? '#e7e7e7' : 'white' }" id={{user.waNr}}>
            <td>{{ (currentPage * perPage) + ele + 1}}</td>
            <td> <a routerLink="matches/{{user.waNr}}" [queryParams]="{ path: path, userId: user.userId, page: currentPage}" class="mr-1">Matches</a></td>
            <td><a routerLink="edit/{{user.userId}}" [queryParams]="{ path: path, page: currentPage, location: user.waNr}" class="mr-1">{{user.waNr}}</a></td>
            <td>{{user.dob}}</td>
            <td>{{user.time}}</td>
            <td>{{user.cityOfBirth}}/ {{user.stateOfBirth}}</td>
            <td>{{ getHeight(user.height) }} ft</td>
            <td>{{user.jobType}}/ {{user.jobDesc}}</td>
            <td>{{user.nativePlace }}</td>
            <td>{{user.income}}</td>
            <td>{{user.qualification}}</td>
            <td>{{user.jobCity}}</td>
            <td>{{user.paid ? 'Yes': 'No'}}</td>
            <td style="white-space: nowrap">
                <p>
                <button (click)="deleteUser(user.userId)" class="btn btn-sm btn-danger btn-delete-user" [disabled]="user.isDeleting">
                    <span *ngIf="user.isDeleting" class="spinner-border spinner-border-sm"></span>
                    <span *ngIf="!user.isDeleting">Delete</span>
                </button>
                &nbsp;
                <a routerLink="preferences/{{ user.userId}}" [queryParams]="{ path: path, dob: user.dob, page: currentPage }" class="btn btn-sm btn-success">Preferences</a>
                &nbsp;
            </p>
                <button (click)="generateMatches(user.waNr)" class="btn btn-sm btn-info">
                    <span>Generate</span>
                </button>
                &nbsp;
                <button [disabled]="user.contacted === true" (click)="updatedContacted(user.waNr)" class="btn btn-sm btn-warning">
                    <span *ngIf="user.contacted === false">Contacted</span>
                    <span *ngIf="user.contacted === true">{{ user.contactedDate }}</span>
                </button>
            </td>
        </tr>
        <tr *ngIf="!persons">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr>
        <tr *ngIf="persons" style="column-span: all;">
            <td style="align-content: center; text-align: center;" colspan="12">
                <span class="mr-1" *ngFor="let loop of loopArray; let indexEle = index">
                    <button class="btn btn-sm btn-success" [disabled]="currentPage == indexEle" (click)="getAll(path, indexEle )">{{ indexEle + 1}}</button>
                </span>
            </td>
        </tr>
    </tbody>
</table>